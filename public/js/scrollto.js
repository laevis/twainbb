// Generated by CoffeeScript 2.1.1
(function() {
  // first add raf shim
  // http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/
  // main function
  var scrollToY, scrollToYPages;

  scrollToY = function(scrollTargetY, speed, easing) {
    var PI_D2, currentTime, easingEquations, scrollY, tick, time;
    // scrollTargetY: the target scrollY property of the window
    // speed: time in pixels per second
    // easing: easing equation to use
    scrollY = window.scrollY;
    scrollTargetY = scrollTargetY || 0;
    speed = speed || 2000;
    easing = easing || 'easeOutSine';
    currentTime = 0;
    // min time .1, max time .8 seconds
    time = Math.max(.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, .8));
    // easing equations from https://github.com/danro/easing-js/blob/master/easing.js
    PI_D2 = Math.PI / 2;
    easingEquations = {
      easeOutSine: function(pos) {
        return Math.sin(pos * Math.PI / 2);
      },
      easeInOutSine: function(pos) {
        return -0.5 * (Math.cos(Math.PI * pos) - 1);
      },
      easeInOutQuint: function(pos) {
        if ((pos /= 0.5) < 1) {
          return 0.5 * Math.pow(pos, 5);
        }
        return 0.5 * (Math.pow(pos - 2, 5) + 2);
      }
    };
    // call it once to get started
    // add animation loop
    tick = function() {
      var p, t;
      currentTime += 1 / 60;
      p = currentTime / time;
      t = easingEquations[easing](p);
      if (p < 1) {
        requestAnimFrame(tick);
        window.scrollTo(0, scrollY + (scrollTargetY - scrollY) * t);
      } else {
        window.scrollTo(0, scrollTargetY);
      }
    };
    tick();
  };

  scrollToYPages = function(page = 1, div) {
    scrollToY(document.getElementsByClassName(div)[0].scrollHeight * (page - 1), 1500, 'easeInOutQuint');
  };

  window.requestAnimFrame = (function() {
    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {
      window.setTimeout(callback, 1000 / 60);
    };
  })();

  window.scrollToY = scrollToYPages;

}).call(this);
